# 第二章 文法与语言

## 2.1. 符号串与语言

### 1. 字母表

#### 定义

字母表 $\Sigma$ 是一个有穷符号集合

- 符号：字母、数字、标点符号

#### 字母表上的运算

- 乘积
    - $\Sigma_1\Sigma_2=\{ab|a\in\Sigma_1,b\in\Sigma_2\}$
- $n$ 次幂
    - $\Sigma^0=\{\varepsilon\}$
    - $\Sigma^n=\Sigma^{n-1}\Sigma, n\geqslant 1$
    - 即为长度为 $n$ 的符号串构成的集合
- 正闭包
    - $\Sigma^{+}=\Sigma\cup\Sigma^2\cup\Sigma^3\cup\cdots$
    - $\Sigma^{*}=\Sigma^0\cup\Sigma\cup\Sigma^2\cup\Sigma^3\cup\cdots$

### 2. 串

#### 定义

- 设 $\Sigma$ 为一个字母表，$\forall x\in\Sigma^{*}$，$x$ 称为 $\Sigma$ 上的一个串。
    - 串是字母表中符号的一个有穷序列
- 串的长度 $|s|$，指符号的个数
- 空串 $|\varepsilon|$

#### 连接

$x$ 和 $y$ 是串，则 $x$ 和 $y$ 的连接—— $xy$，对于非空串有 $xy\ne yx$

空串是连接运算的单位元，$\varepsilon s=s\varepsilon=s$

#### 幂

$$
\begin{cases}
s^0=\varepsilon\\
s^n=s^{n-1}s,n\geqslant 1
\end{cases}
$$
## 2.2. 文法定义

### 1. 文法的形式化定义

#### 文法

$$G=(V_T,V_N,P,Z)$$

- $V_T$ 终结符集合，为非空有穷集合
    - 终结符是文法所定义的语言的基本符号，有时也称为 token
- $V_N$ 非终结符集合，为非空有穷集合
    - 非终结符有时也称为“语法变量”
        - $V_T\cap V_N=\varnothing$
        - $V_T\cup V_N$ 文法符集合
- $P$ 产生式集合
    - ==产生式==描述了将终结符和非终结符组成串的方法
    - 产生式的一般形式 $\alpha\rightarrow\beta$ 或 $\alpha ::=\beta$，读作 $\alpha$ 定义为 $\beta$
        - $\alpha\in(V_T\cup V_N)^{+}$ 且 $\alpha$ 中至少包含 $V_N$ 中的一个元素，称为产生式的头或左部
        - $\beta\in(V_T\cup V_N)^{*}$ 称为产生式的体或者右部
- $Z$ 开始符号或识别符号
    - 第一条产生式规则的左部是识别符号

> 不引起歧义的前提下，可以只写产生式

#### 产生式的简写

对一组有相同左部的产生式

$$\alpha::=\beta_1,\alpha::=\beta_2,\cdots,\alpha::=\beta_n$$

可以简写为

$$\alpha::=\beta_1|\beta_2|\cdots|\beta_n$$

$\beta_i(i=1,2,\cdots,n)$ 称为 $\alpha$ 的候选式

### 2. 语言的形式化定义

#### 推导与归约

给定文法 $G=(V_T,V_N,P,Z)$，如果 $\alpha\rightarrow\beta\in P$，那么可以将符号串 $\gamma\alpha\delta$ 中 $\alpha$ 替换为 $\beta$，即将 $\gamma\alpha\delta$ 重写为 $\gamma\beta\delta$ 记作

$$\gamma\alpha\delta\Rightarrow\gamma\beta\delta$$

称文法中的符号串 $\gamma\alpha\delta$ 直接推导出 $\gamma\beta\delta$

> 简言之，用产生式右部替换产生式左部

若存在推导序列

$$\alpha_0\Rightarrow\alpha_1\Rightarrow\alpha_2\Rightarrow\cdots\Rightarrow\alpha_n$$

称串 $\alpha_0$ 经过 $n$ 步推导出 $\alpha_n$ 可简记为 $\alpha_0\overset{n}{\Rightarrow}\alpha_n$

- $\alpha\overset{0}{\Rightarrow}\alpha$
- $\alpha_0\overset{+}{\Rightarrow}\alpha_n$ 表示经过正数步推导
- $\alpha_0\overset{*}{\Rightarrow}\alpha_n$ 表示经过若干（可以是 0）步推导

归约是推导的逆过程

#### 句型和句子

- 如果 $Z\overset{*}{\Rightarrow}\alpha,\alpha\in(V_T\cup V_N)^{*}$，则称 $\alpha$ 是 $G$ 的一个句型
    - 一个句型中既可包含终结符，又可包含非终结符，也可能是空串
- 如果 $Z\overset{*}{\Rightarrow}\alpha,\alpha\in V_T^{*}$，则称 $\alpha$ 是 $G$ 的一个句子

#### 语言

由文法 $G$ 的开始符号 $Z$ 推导出的所有句子构成的集合称为文法 $G$ 生成的语言，记为 $L(G)$

$$L(G)=\{x|Z\overset{+}{\Rightarrow}x,x\in V_T^*\}$$
