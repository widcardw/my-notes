# 第 5 章 自底向上的语法分析（下）

## 5.4. LR 分析技术

### 5.4.1. LR 分析技术概述

前面讨论的算符优先分析法对文法有一定的要求，必须是==算符文法==，不能包含 $A\to \varepsilon$ 的空规则的性质，而 LR 系列分析技术，对文法几乎没有限制，如果他允许左递归，允许回溯，允许两个非终结符相邻，允许有空规则 $A\to \varepsilon$ 等。LR 系列分析技术是当前最通用的分析方法。

LR(k) 分析技术，L 代表从左向右分析，R 代表最右推导，$k$ 代表向前查看 $k$ 个字符。LR 分析法实际上是最右推导的逆过程——==规范归约==。

LR(k) 分析技术利用已经移进栈中的和归约后进入栈中的一切文法符号，并向前查看最多 k 个符号，就能确定句柄（自底向上语法分析中的“可归约子串”）是否已经在栈顶形成，一旦句柄出现在栈顶，立即进行归约。因此 LR(k) 是一种严格的从左向右分析法。

> 算符优先分析法并不是严格从左向右的，因为当栈顶形成最左素短语的尾部，要向栈底（即从右向左）去寻找素短语的头部。

通常，我们考虑 $k=0,1$ 的情形。LR 系列分析技术有 LR(0), SLR(1), LR(1), LALR(1)。所有这些分析法，只是 LR 分析表中填写的内容不同，分析表的结构和程序相同。

LR 分析器的 4 个组成部分：

- 一个输入串
- 一个分析栈
- 一张 LR 分析表
- LR 分析总控程序

![[public/compile/compile050401.svg]]

### 5.4.2. LR(0) 分析法


