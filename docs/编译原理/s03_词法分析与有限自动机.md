# ç¬¬ 3 ç«  è¯æ³•åˆ†æä¸æœ‰é™è‡ªåŠ¨æœº

## 3.1. è¯æ³•åˆ†æå™¨çš„è®¾è®¡

### 3.1.1. è¯æ³•åˆ†æå™¨çš„ä»»åŠ¡

è¾“å…¥æºç¨‹åºï¼Œè¾“å‡ºå•è¯ç¬¦å·

![[public/compile/S03_01.svg]]

å•è¯ç¬¦å·æ˜¯æœ€å°çš„è¯­ä¹‰å•ä½ã€‚

### 3.1.2. è¯æ³•åˆ†æå™¨è¾“å‡ºå½¢å¼

è¯æ³•åˆ†æå™¨æ‰€è¾“å‡ºçš„å•è¯ç¬¦å·é€šå¸¸è¡¨ç¤ºä¸ºäºŒå…ƒå¼ï¼ˆå•è¯ç§åˆ«ï¼Œå•è¯ç¬¦å·çš„å±æ€§ï¼‰

#### å•è¯çš„ç§ç±»

| ç§ç±»   | è¯´æ˜                                                       |
| ------ | ---------------------------------------------------------- |
| å…³é”®å­— | åˆç§°åŸºæœ¬å­—ã€ä¿ç•™å­—ï¼Œæ˜¯ç”±ç¨‹åºè¯­è¨€å®šä¹‰çš„å…·æœ‰å›ºå®šæ„ä¹‰çš„æ ‡è¯†ç¬¦ |
| æ ‡è¯†ç¬¦ | ç”¨æ¥æ ‡è¯†å„ç§åå­—ï¼Œå¦‚å˜é‡åã€æ•°ç»„åã€è¿‡ç¨‹åã€å‡½æ•°åç­‰       |
| å¸¸æ•°   | æ•´å‹ã€å®å‹ã€å­—ç¬¦å‹ç­‰ï¼Œå¦‚ `0`, `abc`                        |
| è¿ç®—ç¬¦ | å¦‚ç®—æœ¯è¿ç®—ç¬¦ã€é€»è¾‘è¿ç®—ç¬¦ã€å…³ç³»è¿ç®—ç¬¦                       |
| ç•Œé™ç¬¦ | `,` `;` `(` `)` `[` `]` `{` `}` `=` `/*` `*/` ç­‰           | 

é™¤ä»¥ä¸Šå¤–ï¼Œè¿˜åŒ…æ‹¬ç¼–è¾‘ç¬¦ï¼Œå¦‚ç©ºæ ¼ç¬¦ã€å›è½¦ç¬¦ã€æ¢è¡Œç¬¦ã€åˆ¶è¡¨ç¬¦ç­‰

#### å•è¯çš„å±æ€§å€¼

ä¹¦ä¸Šå¥½åƒå¹¶æ²¡æœ‰çœ‹åˆ°æœ‰ä»€ä¹ˆæ¯”è¾ƒæœ‰ä»·å€¼çš„ä¸œè¥¿ğŸ˜…

## 3.2. è¯æ³•åˆ†æå™¨çš„æ‰‹å·¥æ‰“é€ 

### 3.2.1. ç¡®å®šçš„æœ‰é™è‡ªåŠ¨æœº

**å®šä¹‰ 3.1** ä¸€ä¸ªç¡®å®šçš„æœ‰é™è‡ªåŠ¨æœºï¼ˆDFAï¼‰$M$ æ˜¯ä¸€ä¸ªäº”å…ƒç»„ $M=(S,\Sigma,\delta,s_0,F)$ï¼Œå¼ä¸­

- $S$ æ˜¯ä¸€ä¸ªæœ‰é™é›†ï¼Œå®ƒçš„æ¯ä¸€ä¸ªå…ƒç´ ç§°ä¸ºä¸€ä¸ªçŠ¶æ€
- $\Sigma$ æ˜¯ä¸€ä¸ªæœ‰ç©·å­—æ¯è¡¨ï¼Œå®ƒçš„æ¯ä¸ªå…ƒç´ ç§°ä¸ºä¸€ä¸ªè¾“å…¥å­—ç¬¦
- $\delta$ æ˜¯ä¸€ä¸ªä» $S\times\Sigma$ åˆ° $S$ çš„å•å€¼éƒ¨åˆ†æ˜ å°„ã€‚$\delta(s,a)=s^\prime$ è¡¨ç¤ºåœ¨ç›®å‰çŠ¶æ€ $s$ ä¸‹è¾“å…¥å­—ç¬¦ä¸º $a$ æ—¶ï¼Œå°†è½¬æ¢åˆ°ä¸‹ä¸€ä¸ªçŠ¶æ€ $s^\prime$ï¼Œ$s^\prime$ è¢«ç§°ä¸º $s$ çš„ä¸€ä¸ªåç»§çŠ¶æ€

![[public/compile/S03_02.svg]]

- $s_0\in S$ æ˜¯==å”¯ä¸€==çš„åˆæ€
- $F\subseteq S$ æ˜¯ä¸€ä¸ªç»ˆæ€ï¼Œå¯ç©º

**ä¾‹å¦‚** æœ‰ DFA $M=(\{0,1,2,3\},\{a,b\},\delta,0,\{3\})$ï¼Œå…¶ä¸­ï¼Œ$\delta$ å®šä¹‰ä¸º

$$
\begin{aligned}
\delta(0,a)=1 &&\delta(0,b)=2 && \delta(1,a)=3 && \delta(1,b)=2\\
\delta(2,a)=1 &&\delta(2,b)=3 && \delta(3,a)=3 && \delta(3,b)=3
\end{aligned}
$$

å¯ä»¥ç”»å‡ºçŠ¶æ€è½¬æ¢çŸ©é˜µï¼Œæ­¤æ—¶å¯ä»¥çœ‹å‡ºå…¶å®šä¹‰ä¸­ç¬¬ä¸‰æ¡çš„å«ä¹‰

![[public/compile/S03_03.svg]]

ä»¥åŠçŠ¶æ€è½¬æ¢å›¾

![[public/compile/S03_04.svg]]

### 3.2.2. æ„é€ å•è¯çš„ç¡®å®šæœ‰é™è‡ªåŠ¨æœº

### 3.2.3. ç¼–å†™ä¸€ä¸ª C è¯­è¨€è¯æ³•åˆ†æå™¨

ç•™ç»™å®éªŒéƒ¨åˆ†

## 3.3. æœ‰é™è‡ªåŠ¨æœºåŠå…¶åŒ–ç®€

### 3.3.1. ä¸ç¡®å®šæœ‰é™è‡ªåŠ¨æœº

**å®šä¹‰ 3.2** ä¸€ä¸ªä¸ç¡®å®šæœ‰é™è‡ªåŠ¨æœºï¼ˆNFAï¼‰$M$ æ˜¯ä¸€ä¸ªäº”å…ƒç»„ $M=(S,\Sigma,\delta,S_0,F)$ï¼Œå…¶ä¸­

- $S$ æ˜¯ä¸€ä¸ªæœ‰é™é›†ï¼Œå®ƒçš„æ¯ä¸€ä¸ªå…ƒç´ ç§°ä¸ºä¸€ä¸ªçŠ¶æ€
- $\Sigma$ æ˜¯ä¸€ä¸ªæœ‰ç©·å­—æ¯è¡¨ï¼Œå®ƒçš„æ¯ä¸ªå…ƒç´ ç§°ä¸ºä¸€ä¸ªè¾“å…¥å­—ç¬¦
- $\delta$ æ˜¯ä¸€ä¸ªä» $S\times\Sigma^*$ åˆ° $S$ çš„å­é›†æ˜ å°„ï¼Œå³ $\delta: S\times\Sigma^*\rightarrow 2^S$
- $S_0\subseteq S$ æ˜¯ä¸€ä¸ªéç©ºåˆæ€==é›†==
- $F\subseteq S$ æ˜¯ä¸€ä¸ªç»ˆæ€é›†ï¼ˆå¯ç©ºï¼‰ 

DFA æ˜¯ NFA çš„ç‰¹ä¾‹ï¼Œè€Œ NFA æ˜¯ DFA æ¦‚å¿µçš„æ¨å¹¿

### 3.3.2. ä¸ç¡®å®šæœ‰é™è‡ªåŠ¨æœºçš„åŒ–ç®€

å¯¹ä»»æ„ç»™å®šçš„ NFAï¼Œéƒ½èƒ½ç›¸åº”æ„é€ ä¸€ä¸ª DFA ä½¿å®ƒä»¬æ¥å—ç›¸åŒçš„è¯­è¨€

**å®šä¹‰ 3.3** å‡å®š $I$ æ˜¯ NFA $M$ çš„çŠ¶æ€é›†å­é›†ï¼Œå®šä¹‰ $I$ çš„ $\varepsilon\text{-Closure}(I)$ å¦‚ä¸‹

- è‹¥ $q\in I$ ï¼Œåˆ™ $q\in\varepsilon\text{-Closure}(I)$
- è‹¥ $q\in I$ï¼Œåˆ™ä» $q$ è§¦å‘ç»è¿‡ä»»æ„æ¡ $\varepsilon$ å¼§è€Œèƒ½åˆ°è¾¾çš„ä»»ä½•çŠ¶æ€ $q^\prime$ï¼Œæœ‰ $q^\prime\in\varepsilon\text{-Closure}(I)$

**æ€§è´¨ 3.1** å‡å®š $I=\{I_1,I_2,\cdots,I_i\}$ æ˜¯ NFA $M$ çš„çŠ¶æ€é›†çš„å­é›†ï¼Œå¯¹ $a\in\Sigma$ï¼Œæœ‰ $\delta(I,a)=\delta(I,\varepsilon^* a\varepsilon^*)$ æˆç«‹ï¼Œä¸” $\delta(I,a)=\bigcup_{j=1}^{i}\delta(I_j,\varepsilon^* a\varepsilon^*)$

**å®šç† 3.1** å¯¹ä»»æ„ä¸€ NFA $M$ï¼Œéƒ½å­˜åœ¨ä¸€ä¸ª DFA $M^\prime$ï¼Œä½¿å¾— $L(M^\prime)=L(M)$

**ä¾‹ 3.3** å°† NFA $M$ ç¡®å®šåŒ–

![[public/compile/S03_05.svg]]

|             æ–°ç”Ÿæˆçš„çŠ¶æ€ \\ è¾“å…¥              |       a       |       b       |       c       |
|:---------------------------------------------:|:-------------:|:-------------:|:-------------:|
| $\varepsilon\text{-Closure}(\{0\})=\{0,2,3\}$ |    $\{1\}$    | $\varnothing$ |   $\{2,3\}$   |
|                    $\{1\}$                    | $\varnothing$ |    $\{3\}$    | $\varnothing$ |
|                   $\{2,3\}$                   | $\varnothing$ | $\varnothing$ |   $\{2,3\}$   |
|                    $\{3\}$                    | $\varnothing$ | $\varnothing$ | $\varnothing$ |

æˆ‘ä»¬ä»¤æ¯ä¸€è¡Œçš„é¦–å…ƒç´ åˆ†åˆ«ä¸ºæ–°çš„çŠ¶æ€ 0, 1, 2, 3ï¼Œæ¥ç€è€ƒå¯Ÿå“ªäº›çŠ¶æ€å¯ä»¥ä½œä¸ºç»ˆæ€

- å› ä¸ºåŸå§‹çš„ NFA ä¸­ï¼Œ3 æ˜¯ç»ˆæ€ï¼Œå› æ­¤ï¼Œåœ¨æ–°çš„çŠ¶æ€é›†åˆä¸­ï¼Œåªè¦æ˜¯==åŒ…å«åŸå§‹ç»ˆæ€çš„é›†åˆ==ï¼Œéƒ½å¯ä»¥ä½œä¸ºç»ˆæ€ã€‚
- ä¾‹å¦‚ä¸Šè¡¨ä¸­ï¼Œline 0, line 2, line 3 çš„é›†åˆéƒ½åŒ…å«åŸå§‹ NFA çš„ç»ˆæ€ 3 ï¼Œå› æ­¤è¿™ 3 è¡Œç”Ÿæˆçš„æ–°çŠ¶æ€éƒ½å¯ä»¥ä½œä¸ºæ–°çš„ç»ˆæ€ã€‚


![[public/compile/S0306.svg]]

### 3.3.3. ç¡®å®šæœ‰é™è‡ªåŠ¨æœºçš„åŒ–ç®€

å¯¹ä¸€ä¸ª NFA $M$ï¼Œå½“æŠŠå®ƒç¡®å®šåŒ–åï¼Œå¾—åˆ°çš„ DFA å¯èƒ½åŒ…å«è¾ƒå¤šçš„çŠ¶æ€ï¼Œæœ‰äº›çŠ¶æ€æœ‰å¯èƒ½æ˜¯å¤šä½™æˆ–è€…ç­‰ä»·çš„ã€‚å› æ­¤åº”è¯¥å¯¹ DFA è¿›è¡ŒåŒ–ç®€ã€‚

**å¤šä½™çŠ¶æ€** ä»åˆæ€å‡ºå‘ï¼Œä»»ä½•å¯è¯†åˆ«çš„è¾“å…¥ä¸²ä¹Ÿä¸èƒ½åˆ°è¾¾çš„çŠ¶æ€ã€‚

è®¾ DFA $M=(S,\Sigma, \delta, s_0, F)$ï¼Œå¯¹ $s,t\in S$ï¼Œè‹¥å¯¹ä»»ä½• $\alpha\in\Sigma^*$ï¼Œå‡æœ‰ $\delta(s,\alpha)\in F$ å½“ä¸”ä»…å½“ $\delta(t,\alpha)\in F$ï¼Œåˆ™ç§°çŠ¶æ€ $s$ å’Œ $t$ ç­‰ä»·

**å®šä¹‰ 3.4** å¯¹ä¸€ä¸ª DFA $M$ï¼Œè‹¥èƒ½æ‰¾åˆ°ä¸€ä¸ªçŠ¶æ€æ¯” $M$ å°‘çš„ DFA $M^\prime$ï¼Œä½¿å¾— $L(M)=L(M^\prime)$ï¼Œä¸” $M^\prime$ æ»¡è¶³

1. $M^\prime$ ä¸­æ²¡æœ‰å¤šä½™çš„çŠ¶æ€
2. $M^\prime$ çš„çŠ¶æ€é›†ä¸­ï¼Œæ²¡æœ‰ä¸¤ä¸ªçŠ¶æ€æ˜¯äº’ç›¸ç­‰ä»·çš„

åˆ™ç§°è¯¥ DFA $M^\prime$ æ˜¯ä¸€ä¸ªæœ€å°åŒ–çš„ DFAï¼Œä¹Ÿç§° DFA çš„åŒ–ç®€

**DFA $M$ æœ€å°åŒ–çš„å…·ä½“æ­¥éª¤**

1. å°† DFA $M$ çš„çŠ¶æ€é›† $S$ åˆ’åˆ†ä¸ºä¸¤ä¸ªå­é›†ï¼šç»ˆæ€é›† $F$ å’Œéç»ˆæ€é›† $\tilde{F}$ï¼Œå½¢æˆåˆå§‹åˆ’åˆ† $\Pi$
2. å¯¹ $\Pi$ å»ºç«‹æ–°çš„åˆ†åˆ’ $\Pi_{new}$ï¼Œå¯¹ $\Pi$ ä¸­çš„æ¯ä¸ªçŠ¶æ€å­é›† $G$ï¼Œè¿›è¡Œå¦‚ä¸‹å˜æ¢
    1. æŠŠ $G$ åˆ’åˆ†æˆæ–°çš„å­é›†ï¼Œä½¿ $G$ çš„ä¸¤ä¸ªçŠ¶æ€ $s$ å’Œ $t$ å±äºåŒä¸€ä¸ªå­é›†ï¼Œå½“ä¸”ä»…å½“å¯¹ä»»ä½•è¾“å…¥ç¬¦å· $a$ï¼ŒçŠ¶æ€ $s$ å’Œ $t$ è½¬æ¢åˆ°çš„çŠ¶æ€éƒ½å±äº $\Pi$ çš„åŒä¸€ä¸ªå­é›†
    2. ç”¨ $G$ åˆ’åˆ†å‡ºæ¥çš„æ‰€æœ‰æ–°å­é›†æ›¿æ¢ä¸º $G$ï¼Œå½¢æˆæ–°çš„åˆ’åˆ† $\Pi_{new}$
3. å¦‚æœ $\Pi_{new}$ å’Œ $\Pi$ ç›¸ç­‰ï¼Œåˆ™æ‰§è¡Œç¬¬ 4 æ­¥ï¼›å¦åˆ™ï¼Œä»¤ $\Pi=\Pi_{new}$ï¼Œé‡å¤ç¬¬ 2 æ­¥
4. åˆ’åˆ†ç»“æŸåï¼Œå¯¹åˆ’åˆ†ä¸­çš„æ¯ä¸ªçŠ¶æ€å­é›†ï¼Œé€‰å‡ºä¸€ä¸ªçŠ¶æ€ä½œä¸ºâ€œä»£è¡¨â€ï¼Œåˆ å»å…¶ä»–ä¸€åˆ‡ç­‰ä»·çš„çŠ¶æ€ï¼Œå¹¶æŠŠå°„å‘å…¶ä»–çŠ¶æ€çš„ç®­å¼§æ”¹ä¸ºå°„å‘è¿™ä¸ªâ€œä»£è¡¨â€çš„çŠ¶æ€

> DFA æœ€å°åŒ–çš„æ ¸å¿ƒï¼šå°†ä¸ç­‰ä»·çš„çŠ¶æ€æ‹†åˆ†

**ä¾‹** å¯¹äºæœ‰é™è‡ªåŠ¨æœº

![[public/compile/compdfa_001.svg]]

ç”±äºçŠ¶æ€ 0, 1 ç»è¿‡ a, b è½åœ¨åŒä¸€ä¸ªå­é›†ï¼Œå¯ä»¥å‘ç°å®ƒä»¬æ— æ³•æ‹†åˆ†ï¼Œå› æ­¤ 0 å’Œ 1 çŠ¶æ€ç­‰ä»·ã€‚å¯ä»¥å°†çŠ¶æ€æœºåŒ–ç®€ä¸ºå³è¾¹çš„å½¢å¼ã€‚

**ä¾‹ 3.6** å°†å›¾ä¸­ DFA æœ€å°åŒ–

![[public/compile/S0307.svg]]

1. æŒ‰ç…§ç»ˆæ€å’Œéç»ˆæ€åˆ’åˆ†ï¼Œå¾—åˆ°ä¸¤ä¸ªå­é›† $\Pi_1=\{A,B,F\}$ï¼Œ$\Pi_2=\{C,D,E,G\}$
2. å¯¹ $\Pi_1$ï¼ŒçŠ¶æ€ $A,B$ å‡ä¸ $F$ å¯åŒºåˆ«ï¼Œå› ä¸º $A\xrightarrow{b}{T},B\xrightarrow{b}{T}$ï¼Œè€Œ $F\overset{b}{\nrightarrow}T$ï¼ˆ$T$ è¡¨ç¤ºç»ˆæ­¢æ€ï¼‰ï¼Œå› æ­¤ $\Pi_1$ åˆ’åˆ†ä¸º $\Pi_{11}=\{A,B\},\Pi_{12}=\{F\}$ã€‚
	- è¿›ä¸€æ­¥ï¼Œ$A,B$ æ˜¯ä¸¤ä¸ªå¯åŒºåˆ«çš„çŠ¶æ€ï¼Œå› ä¸º $A\xrightarrow{bb}T,B\overset{bb}{\nrightarrow}T$ï¼Œè¿›è€Œå°† $\Pi_1$ åˆ†ä¸ºä¸‰ä¸ªå­é›† $\{A\},\{B\},\{F\}$
3. å¯¹ $\Pi_2=\{C,D,E,G\}$ï¼Œç”¨è¾“å…¥ $b$ å¯å°†å…¶åˆ’åˆ†ä¸º $\Pi_{21}=\{C,E\},\Pi_{22}=\{D,G\}$
	- è¿›ä¸€æ­¥ï¼Œå¯å°† $\Pi_{21}$ åˆ’åˆ†ä¸º $\{C\},\{E\}$

äºæ˜¯åˆ’åˆ†ä¸ºäº†ä»¥ä¸‹å­é›†

$$
\{A\},\{B\},\{F\},\{C\},\{E\},\{D,G\}
$$

![[public/compile/S0308.svg]]

## 3.4. æ­£è§„æ–‡æ³•ã€æ­£è§„å¼å’Œæœ‰é™è‡ªåŠ¨æœºä¹‹é—´çš„å…³ç³»

### 3.4.1. æ­£è§„å¼ä¸æ­£è§„é›†


**å®šä¹‰** è®¾æœ‰å­—æ¯è¡¨ $\Sigma$ï¼Œåœ¨ $\Sigma$ ä¸Šçš„æ­£è§„å¼ï¼Œå®ƒä»¬æ‰€è¡¨ç¤ºçš„æ­£è§„é›†çš„é€’å½’å®šä¹‰ï¼š

1. $\varepsilon$ å’Œ $\varnothing$ éƒ½æ˜¯ $\Sigma$ ä¸Šçš„æ­£è§„å¼ï¼Œå®ƒä»¬æ‰€è¡¨ç¤ºçš„æ­£è§„é›†åˆ†åˆ«ä¸º $\{\varepsilon\}$ å’Œ $\varnothing$
2. ä»»ä½• $a\in\Sigma$ï¼Œ$a$ æ˜¯ $\Sigma$ ä¸Šçš„ä¸€ä¸ªæ­£è§„å¼ï¼Œå®ƒæ‰€è¡¨ç¤ºçš„æ­£è§„é›†ä¸º $\{a\}$
3. å‡è®¾ $e_1,e_2$ æ˜¯ $\Sigma$ ä¸Šçš„æ­£è§„å¼ï¼Œå®ƒä»¬æ‰€è¡¨ç¤ºçš„æ­£è§„é›†åˆ†åˆ«ä¸º $L(e_1), L(e_2)$ï¼Œåˆ™
    1. $e_1|e_2$ æ˜¯ $\Sigma$ ä¸Šçš„æ­£è§„å¼ï¼Œå®ƒæ‰€è¡¨ç¤ºçš„æ­£è§„é›†ä¸º $L(e_1\mid e_2)=L(e_1)\cup L(e_2)$
    2. $e_1e_2$ æ˜¯ $\Sigma$ ä¸Šçš„æ­£è§„å¼ï¼Œå®ƒæ‰€è¡¨ç¤ºçš„æ­£è§„é›†ä¸º $L(e_1e_2)=L(e_1)L(e_2)$
    3. $(e_1)^*$ æ˜¯ $\Sigma$ ä¸Šçš„æ­£è§„å¼ï¼Œå®ƒæ‰€è¡¨ç¤ºçš„æ­£è§„é›†ä¸º $L((e_1)^*)=L(e_1)^*$

|        è°æ˜¯ $\Sigma$ çš„æ­£è§„å¼         |                    æ­£è§„é›†                     |
|:-------------------------------------:|:---------------------------------------------:|
|             $\varepsilon$             |               $\{\varepsilon\}$               |
|             $\varnothing$             |                 $\varnothing$                 |
|                  $a$                  |                    $\{a\}$                    |
| $e_1$ å’Œ $e_2$ æ˜¯ $\Sigma$ ä¸Šçš„æ­£è§„å¼ | å®ƒä»¬æ‰€è¡¨ç¤ºçš„æ­£è§„é›†åˆ†åˆ«ä¸º $L(e_1)$ å’Œ $L(e_2)$ |
|             $e_1\mid e_2$             |      $L(e_1\mid e_2)=L(e_1)\cup L(e_2)$       |
|               $e_1e_2$                |           $L(e_1e_2)=L(e_1)L(e_2)$            |
|               $(e_1)^*$               |             $L((e_1)^*)=L(e_1)^*$             |

**æ€§è´¨**

1. äº¤æ¢å¾‹ $U|V=V|U$
2. ç»“åˆå¾‹ $U|(V|W)=(U|V)|W$ï¼Œ$U(VW)=(UV)W$
3. åˆ†é…ç‡ $U(V|W)=UV|UW$ï¼Œ$(V|W)U=VU|WU$
4. $\varepsilon U=U\varepsilon=U$

**ä¾‹**

| æ­£è§„å¼               | æ­£è§„é›†                                        |
| -------------------- | --------------------------------------------- |
| $a\mid b$            | $\{a,b\}$                                     |
| $(a\mid b)(a\mid b)$ | $\{aa,ab,ba,bb\}$                             |
| $a^*$                | $\{\varepsilon,a,aa,aaa,\cdots\}$             |
| $(a\mid b)^*$        | $\{\varepsilon, a,b,aa,ab,ba,bb,aaa,\cdots\}$ |
| $a\mid a^*b$         |    $\{a,b,ab,aab,aaab,\cdots\}$                                           |

### 3.4.2. æ­£è§„å¼ä¸æ­£è§„æ–‡æ³•çš„å…³ç³»

#### 1. æ­£è§„å¼è½¬æ¢ä¸ºæ­£è§„æ–‡æ³•

å­—æ¯è¡¨ $\Sigma$ ä¸Šçš„æ­£è§„å¼ $U$ åˆ°æ­£è§„æ–‡æ³• $G[Z]=(V_\mathrm{N},V_\mathrm{T},P,Z)$ çš„è½¬æ¢æ–¹æ³•

1. ä»¤ $V_T=\Sigma$ï¼Œå°† $Z\rightarrow U$ åŠ å…¥åˆ° $P$ ä¸­
2. å¯¹ $P$ ä¸­çš„æ¯æ¡äº§ç”Ÿå¼è§„åˆ™ $V\rightarrow U$ï¼Œwhile $(!(U=\varepsilon\parallel U=a(a\in\Sigma)))$ æ‰§è¡Œ

| æ¡ä»¶            | $V\rightarrow U$ ä¿®æ”¹ä¸º                                  |
| --------------- | -------------------------------------------------------- |
| $U=e_1\mid e_2$ | $V\rightarrow A\mid B,A\rightarrow e_1,B\rightarrow e_2$ |
| $U=e_1e_2$      | $V\rightarrow e_1B,B\rightarrow e_2$                     |
| $U=(e_1)^*e_2$  | $V\rightarrow e_1V,V\rightarrow e_2$                                                         |

**ä¾‹ 3.10** å°†æ­£è§„å¼ $(a\mid b)^\ast a(a\mid b)$ è½¬æ¢ä¸ºç›¸åº”çš„æ­£è§„æ–‡æ³•

ç”± 1. æœ‰

$$
V_\mathrm{T}=\{a,b\},P=\{Z\to(a\mid b)^\ast a(a\mid b)\}
$$

ç”± 2.3. æœ‰

$$
Z\to aZ\mid bZ,Z\to a(a\mid b)
$$

ç»§ç»­ç”± 2.2. æœ‰

$$
Z\to aZ\mid bZ,Z\to aB,B\to (a\mid b)
$$

å³

$$
P=\{Z\to aZ\mid bZ,Z\to aB,B\to (a\mid b)\}
$$

**ä¾‹ 3.11** å°†æ­£è§„å¼ $(a\mid b)a^\ast(a\mid b)$ è½¬æ¢ä¸ºç›¸åº”çš„æ­£è§„æ–‡æ³•

$$
\begin{aligned}
&V_\mathrm{T}=\{a,b\},P=\{Z\to(a\mid b)a^\ast(a\mid b)\}\\
\Rightarrow & Z\to(a\mid b)B,B\to a^\ast(a\mid b)\\
\Rightarrow & Z\to aB\mid bB,B\to aB,B\to a\mid b
\end{aligned}
$$

å› æ­¤æœ‰

$$
P=\{Z\to aB\mid bB,B\to aB,B\to a\mid b\}
$$

#### 2. æ­£è§„æ–‡æ³•è½¬æ¢ä¸ºæ­£è§„å¼

1. å°†æ­£è§„æ–‡æ³•ä¸­çš„æ¯ä¸ªéç»ˆç»“ç¬¦è¡¨ç¤ºæˆå®ƒçš„ä¸€ä¸ªæ­£è§„å¼æ–¹ç¨‹ï¼Œè·å¾—ä¸€ä¸ªè”ç«‹æ–¹ç¨‹ç»„
2. æ±‚è§£
    - è‹¥ $x=\alpha x\mid\beta$ï¼Œåˆ™è§£ä¸º $x=\alpha^\ast\beta$
    - è‹¥ $x=x\alpha\mid\beta$ï¼Œåˆ™è§£ä¸º $x=\beta\alpha^\ast$

**ä¾‹ 3.12** è®¾æœ‰æ­£è§„æ–‡æ³• $G[Z]$ï¼Œæ±‚å‡ºè¯¥æ–‡æ³•ç”Ÿæˆè¯­è¨€çš„æ­£è§„å¼

$$
\begin{aligned}
Z&\to Zc\mid Bc\\
B&\to Bb\mid Ab\\
A&\to Aa\mid a
\end{aligned}
$$

æ–¹ç¨‹ç»„æœ‰

$$
\begin{cases}
Z= Zc+ Bc\\
B= Bb+ Ab\\
A= Aa+ a
\end{cases}
$$

æ±‚è§£æœ‰

$$
\begin{aligned}
A&=aa^\ast\\
B&=Bb+a\{a\}b=aa^\ast bb^\ast\\
Z&=Zc+Bc=Zc+aa^\ast bb^\ast c=aa^\ast bb^\ast cc^\ast
\end{aligned}
$$

æ•…è¯¥æ­£è§„å¼çš„æ­£è§„é›†å°±æ˜¯æ–‡æ³• $G[Z]$ å®šä¹‰çš„è¯­è¨€ $\{a^ib^jc^k\mid i,j,k\geqslant 1\}$

### 3.4.3. æ­£è§„æ–‡æ³•ä¸æœ‰é™è‡ªåŠ¨æœºä¹‹é—´çš„è½¬æ¢

#### 1. å³çº¿æ€§æ–‡æ³•è½¬æ¢ä¸ºæœ‰é™è‡ªåŠ¨æœº

> å®ƒå¯¹åº”ç€æ–‡æ³•çš„==æ¨å¯¼è¿‡ç¨‹==

è®¾ $G[Z]=(V_\mathrm{N},V_\mathrm{T},P,Z)$ æ˜¯ä¸€ä¸ªå³çº¿æ€§æ–‡æ³•ï¼Œå…¶äº§ç”Ÿå¼è§„åˆ™å…·æœ‰å½¢å¼ $A\to aB\mid a\mid\varepsilon$ï¼Œç”± $G$ æ„é€ ç›¸åº”çš„æœ‰é™è‡ªåŠ¨æœº $M=(S,\Sigma,\delta,s_0,F)$ çš„æ­¥éª¤

1. ä»¤ $s_0=\{Z\}$ï¼Œå°†æ¯ä¸ªéç»ˆç»“ç¬¦çœ‹ä½œ $M$ ä¸­çš„ä¸€ä¸ªçŠ¶æ€ï¼Œå¹¶å¢åŠ ä¸€ä¸ª==ç»ˆæ€ $Y$== ä¸” $Y\notin V_\mathrm{N}$ï¼Œä»¤ $F=\{Y\}$ï¼Œå³å¯å¾— $S=V_\mathrm{N}\cup F$ï¼Œä»¤ $\Sigma=V_\mathrm{T}$
2. å¯¹ $G$ ä¸­æ¯ä¸€ä¸ªå½¢å¦‚ $A\to \varepsilon$ çš„äº§ç”Ÿå¼è§„åˆ™ï¼Œä»¤ $\delta(A,\varepsilon)=Y$
3. å¯¹ $G$ ä¸­æ¯ä¸€ä¸ªå½¢å¦‚ $A\to a$ çš„äº§ç”Ÿå¼è§„åˆ™ï¼Œä»¤ $\delta(A,a)=Y$
4. å¯¹ $G$ ä¸­æ¯ä¸€ä¸ªå½¢å¦‚ $A\to aB$ çš„äº§ç”Ÿå¼è§„åˆ™ï¼Œä»¤ $\delta(A,a)=B$

è¿™æ ·æ„é€ çš„ $M$ å¤§å¤šæ•°æƒ…å†µä¸‹æ˜¯ä¸€ä¸ª NFA

**ä¾‹ 3.14** è®¾æœ‰æ–‡æ³• $G[Z]$ï¼Œè¯•æ„é€ æœ‰é™è‡ªåŠ¨æœº

$$
\begin{aligned}
Z&\to 0Z\mid 1A\mid\varepsilon\\
A&\to 0Z\mid\varepsilon
\end{aligned}
$$

$$
M=(\{Z,A,Y\},\{0,1\},\delta,\{Z\},\{Y\})$$

$$
\begin{aligned}
\delta(Z,0)=Z && \delta(Z,1)=A && \delta(Z,\varepsilon)=Y\\
\delta(A,0)=Z && \delta(A,1)=\varnothing && \delta(A,\varepsilon)=Y
\end{aligned}
$$

![[public/compile/compile_10.svg]]

#### 2. å·¦çº¿æ€§æ–‡æ³•è½¬æ¢ä¸ºæœ‰é™è‡ªåŠ¨æœº

> å®ƒå¯¹åº”ç€æ–‡æ³•çš„==å½’çº¦è¿‡ç¨‹==

è®¾ $G[Z]=(V_\mathrm{N},V_\mathrm{T},P,Z)$ æ˜¯ä¸€ä¸ªå³çº¿æ€§æ–‡æ³•ï¼Œå…¶äº§ç”Ÿå¼è§„åˆ™å…·æœ‰å½¢å¼ $A\to Ba\mid a\mid\varepsilon$ï¼Œç”± $G$ æ„é€ ç›¸åº”çš„æœ‰é™è‡ªåŠ¨æœº $M=(S,\Sigma,\delta,s_0,F)$ çš„æ­¥éª¤

1. ä»¤ $s_0=\{Z\}$ï¼Œå°†æ¯ä¸ªéç»ˆç»“ç¬¦çœ‹ä½œ $M$ ä¸­çš„ä¸€ä¸ªçŠ¶æ€ï¼Œå¹¶å¢åŠ ä¸€ä¸ª==åˆæ€ $X$== ä¸” $X\notin V_\mathrm{N}$ï¼Œä»¤ $s_0=\{X\}$ï¼Œå³å¯å¾— $S=V_\mathrm{N}\cup \{X\}$ï¼Œä»¤ $\Sigma=V_\mathrm{T}$
2. å¯¹ $G$ ä¸­æ¯ä¸€ä¸ªå½¢å¦‚ $A\to \varepsilon$ çš„äº§ç”Ÿå¼è§„åˆ™ï¼Œä»¤ $\delta(X,\varepsilon)=A$
3. å¯¹ $G$ ä¸­æ¯ä¸€ä¸ªå½¢å¦‚ $A\to a$ çš„äº§ç”Ÿå¼è§„åˆ™ï¼Œä»¤ $\delta(X,a)=A$
4. å¯¹ $G$ ä¸­æ¯ä¸€ä¸ªå½¢å¦‚ $A\to Ba$ çš„äº§ç”Ÿå¼è§„åˆ™ï¼Œä»¤ $\delta(B,a)=A$

è¿™æ ·æ„é€ çš„ $M$ å¤§å¤šæ•°æƒ…å†µä¸‹æ˜¯ä¸€ä¸ª NFA

**ä¾‹ 3.14** è®¾æœ‰æ–‡æ³• $G[Z]$ï¼Œè¯•æ„é€ æœ‰é™è‡ªåŠ¨æœº

$$
\begin{aligned}
Z&\to Z0\mid A1\mid\varepsilon\\
A&\to Z0\mid\varepsilon
\end{aligned}
$$

$$
M=(\{Z,A,X\},\{0,1\},\delta,\{X\},\{Z\})$$

$$
\begin{aligned}
\delta(Z,0)=Z && \delta(A,1)=Z && \delta(A,0)=\varnothing && \delta(X,\varepsilon)=Z\\
\delta(Z,0)=A && \delta(Z,1)=\varnothing && \delta(X,\varepsilon)=A
\end{aligned}
$$

![[public/compile/compile0311.svg]]

#### 3. æœ‰é™è‡ªåŠ¨æœºè½¬æ¢ä¸ºæ­£è§„æ–‡æ³•

å¯¹äºç»™å®šçš„æœ‰é™è‡ªåŠ¨æœº $M$ï¼Œæ„é€ æ–‡æ³• $G$ ä½¿å¾— $L(G)=L(M)$

1. ä»¤ $V_\mathrm{T}=\Sigma,V_\mathrm{N}=S,Z=s_0$
2. è‹¥ $Z$ æ˜¯ä¸€ä¸ªç»ˆæ€ï¼Œåˆ™å°†äº§ç”Ÿå¼è§„åˆ™ $Z\to\varepsilon$ åŠ åˆ° $P$ ä¸­
3. å¯¹ $\delta(A,a)=B$ï¼Œè‹¥ $B\notin F$ï¼Œåˆ™å°† $A\to aB$ åŠ åˆ° $P$ ä¸­ï¼›å¦åˆ™ï¼Œå°† $A\to aB\mid A\to a$ æˆ– $A\to aB,B\to\varepsilon$ åŠ åˆ° $P$ ä¸­ã€‚ç‰¹åˆ«çš„ï¼Œè‹¥ $\delta(A,a)=A$ï¼Œåˆ™å°† $A\to aA\mid\varepsilon$ åŠ åˆ° $P$ ä¸­ã€‚

**ä¾‹ 3.16** å¯¹ä»¥ä¸‹çŠ¶æ€å›¾ï¼Œæ„é€ æ–‡æ³• $G$

![[public/compile/compile0312.svg]]

$$
\begin{aligned}
G[Z]&=(\{Z,A,B,C\},\{a,b\},P,Z)\\
P:\,&Z\to aA\mid bB\\
&A\to aC\mid bB\mid a\\
&B\to aA\mid aB\mid bC\mid b\\
&C\to aC\mid aA\mid \varepsilon
\end{aligned}
$$

### 3.4.4. æ­£è§„å¼ä¸æœ‰é™è‡ªåŠ¨æœºä¹‹é—´çš„è½¬æ¢

#### 1. ç”±æ­£è§„å¼æ„é€ æœ‰é™è‡ªåŠ¨æœº

![[public/compile/compile0313.svg]]

TODO: ç”»ä¸ªä¾‹å­

#### 2. ç”±æ­£è§„å¼æ„é€ æœ‰é™è‡ªåŠ¨æœº

![[public/compile/compile0314.svg]]

TODO: ç”»ä¸ªä¾‹å­

## 3.5. è¯æ³•åˆ†æç¨‹åºè‡ªåŠ¨ç”Ÿæˆå™¨ Lex

ä¼¼ä¹æ˜¯ç•™ç»™å®éªŒäº†
